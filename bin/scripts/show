#!/bin/bash

source ./utils

n evaluate-and-start-file()
{
	file $1 | fgrep $2 > /dev/null 2>&1
	if [ $? -eq 0 ]; then
		$3 $1
		return 0
	fi
	return 1
}

if [ $# -eq 0 ]; then
	err "Error provide a file" || return 1
fi

evaluate-and-start-file $1 image sxiv && return 0
evaluate-and-start-file $1 "PDF document" evince && return 0
evaluate-and-start-file $1 script less && return 0
evaluate-and-start-file $1 "source" less && return 0

err "Found no command to show the content of the file" || return 1

